{"version":3,"file":"angularjs-itc-utils.min.js","sources":["../../.tmp/concat/scripts/angularjs-itc-utils.min.js"],"names":["Patterns","latinText","angular","module","constant","ValidationMessagess","validationMessages","en","required","email","minlength","maxlength","equals","unique","pattern","itcAlert","restrict","link","scope","$on","e","data","window","alert","directive","itcAuthentication","$http","$timeout","elem","getMainAndNavbar","find","add","login","hide","$","removeCookie","path","clientContextPath","defaults","headers","common","Authorization","$root","isLoginView","show","focus","slideUp","itcClearFileupload","bind","val","itcConfirmation","priority","pre","element","attrs","message","confirm","stopImmediatePropagation","preventDefault","itcDefaultMessage","attributes","name","fieldName","field","context","form","input","tooltip","popover","getPopoverObject","$valid","$pristine","isUndefined","createMessage","showMessage","$tip","replaceMessage","hideMessage","placement","trigger","content","template","options","itcDraggable","transclude","elm","draggable","revert","replace","itcDroppable","droppable","drop","event","ui","onBeforeDrop","onDrop","itcFacebookSlidein","$window","left","href","width","height","showFaces","stream","header","test","addClass","attr","value","parseInt","properties","right","stop","animate","css","hover","d","s","id","js","fjs","getElementsByTagName","getElementById","createElement","src","parentNode","insertBefore","document","itcHeadTitle","$watch","title","jQuery","size","append","html","itcKeepInView","reattach","filter","container","parents","parent","ngKeepInView","children","elementOuterHeight","outerHeight","offset","top","innerHeight","scrollTop","position","paddingBottom","bottom","innerWidth","resize","ngModel","unbind","itcKeyTip","doKeyTip","keyTips","watchExpressions","split","i","length","expression","laddaConfig","$scope","style","hasClass","querySelector","label","forEach","contents","item","ladda","Ladda","create","newVal","undefined","progress","isLoading","start","setProgress","itcMessages","$compile","MessageFactory","stayTime","type","messageTemplate","messageElement","fadeOut","remove","clean","subscribe","itcMetadata","meta","itcScrollTo","compile","smoothScroll","click","itcSmartFloat","FLOAT_REGEXP","require","ctrl","$parsers","unshift","viewValue","$setValidity","parseFloat","itcSpinner","spinner","opts","Math","round","radius","color","className","$set","Spinner","spin","itcStopEventPropagation","stopPropagation","itcSubmit","PRISTINE_CLASS","DIRTY_CLASS","novalidate","removeClass","formName","$setDirty","$dirty","$invalid","$apply","itcSubmitWithoutFocus","first","$emit","itcEquals","validate","val1","$eval","val2","validity","itcLessThan","itcValidationMessages","ValidationMessages","DEFAULT_LANGUAGE","Error","itcValidationMessagesEvent","itcValidationMessagesType","evt","args","findErrors","checkFieldsValidity","error","getPopover","hidePopover","getFirstError","createPopover","key","showPopover","replacePopoverMessage","getMessageContent","block","getBlock","hideBlock","createBlock","replaceBlockMessage","showBlock","$error","isEmptyObject","newMessage","customMessage","selectedLanguage","after","angularLocalStorage","expiry","setItem","removeItem","service","$rootScope","prefix","cookie","notify","substr","browserSupportsLocalStorage","localStorage","$broadcast","addToLocalStorage","newvalue","storageType","addToCookies","isObject","isArray","toJson","getFromLocalStorage","getFromCookies","getItem","charAt","fromJson","removeFromLocalStorage","removeFromCookies","getKeysForLocalStorage","prefixLength","keys","push","Description","clearAllFromLocalStorage","clearAllFromCookies","browserSupportsCookies","navigator","cookieEnabled","indexOf","call","expiryDate","Date","setTime","getTime","toGMTString","encodeURIComponent","cookies","thisCookie","substring","decodeURIComponent","isSupported","set","get","clearAll","this","AsyncQueue","$log","isDuplicate","queueItem","callback","groupingId","createQueueItem","config","extend","promise","timeout","then","queue","splice","queueId","defaultQueueName","cancel","queueConfig","warn","configure","factory","Authenticator","Base64","setupAuthorizationHeader","encode","buildParams","paramsObject","r20","paramsArray","join","cookieAuthdata","authenticator","password","success","failure","payload","username","Content-Type","request","post","doubleEscapedContextPath","setToken","Function","logout","execCommand","token","keyStr","chr1","chr2","enc1","enc2","enc3","output","chr3","enc4","charCodeAt","isNaN","decode","base64test","exec","String","fromCharCode","$httpProvider","interceptor","$location","$q","response","status","errorDate","skipDefaultInterceptors","codes","reject","errorMessage","responseInterceptors","subscribers","subscriber","cb","info","paginationSupport","defaultConfig","maxResults","setDefaultConfig","$get","AbstractPagination","refreshFunction","asyncQueueOptions","refresh","doRefresh","modelListener","newValue","oldValue","pageAwareModelListener","currentPage","firstResult","resultCount","hasOwnProperty","listener","isPaginationNeeded","provider"],"mappings":"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","sourcesContent":["(function () {\n  'use strict';\n  function Patterns() {\n    return { latinText: /^[\\u0041-~\\u0080-þĀ-ž ]+$/ };\n  }\n  angular.module('pl.itcrowd.constants').constant('Patterns', Patterns);\n}());\n(function () {\n  'use strict';\n  function ValidationMessagess() {\n    return {\n      validationMessages: {\n        en: {\n          required: 'Value is required!',\n          email: 'Please enter a valid email address!',\n          minlength: 'Enter more characters!',\n          maxlength: 'You have entered to many characters!',\n          equals: 'Password doesn\\'t match!',\n          unique: 'Your email should be unique!',\n          pattern: 'Characters don\\'t match to the pattern!'\n        }\n      }\n    };\n  }\n  angular.module('pl.itcrowd.directives').constant('ValidationMessages', ValidationMessagess);\n}());\n(function () {\n  'use strict';\n  function itcAlert() {\n    return {\n      restrict: 'A',\n      link: function (scope) {\n        scope.$on('Alert', function (e, data) {\n          window.alert(data);\n        });\n      }\n    };\n  }\n  angular.module('pl.itcrowd.directives').directive('itcAlert', itcAlert);\n}());\n/*global clientContextPath*/\n(function () {\n  'use strict';\n  function itcAuthentication($http, $timeout) {\n    return {\n      restrict: 'C',\n      link: function (scope, elem) {\n        var login = elem.find('#login-holder');\n        /**\n                 * Since Angular 1.2-rc3 ng-view element is not in DOM at the time of executing this linking function\n                 */\n        function getMainAndNavbar() {\n          return elem.find('#content').add(elem.find('header'));\n        }\n        login.hide();\n        scope.$on('event:auth-loginRequired', function () {\n          //clear cookie & auth header, when login required event is raised\n          $.removeCookie('token', { path: clientContextPath });\n          delete $http.defaults.headers.common.Authorization;\n          if (true !== scope.$root.isLoginView) {\n            getMainAndNavbar().hide();\n            login.show();\n            login.find('#inputUsername').focus();\n          }\n        });\n        scope.$on('event:signupRequired', function () {\n          getMainAndNavbar().hide();\n          login.show();\n          $timeout(function () {\n            login.find('#inputEmail2').focus();\n          });\n        });\n        scope.$on('event:startChangeForgottenPassword', function () {\n          getMainAndNavbar().hide();\n          login.show();\n          $timeout(function () {\n            login.find('#inputEmailForRemindPass').focus();\n          });\n        });\n        var hide = function () {\n          getMainAndNavbar().show();\n          login.slideUp();\n        };\n        scope.$on('event:auth-loginConfirmed', hide);\n        scope.$on('event:hide-signup', hide);\n      }\n    };\n  }\n  /**\n     * This directive is responsible for showing/hiding login form.\n     */\n  angular.module('pl.itcrowd.directives').directive('itcAuthentication', [\n    '$http',\n    '$timeout',\n    itcAuthentication\n  ]);\n}());\n(function () {\n  'use strict';\n  function itcClearFileupload() {\n    return {\n      restrict: 'A',\n      link: function (scope, elem) {\n        elem.bind('click', function () {\n          $(':file').val('');\n        });\n      }\n    };\n  }\n  angular.module('pl.itcrowd.directives').directive('itcClearFileupload', itcClearFileupload);\n}());\n(function () {\n  'use strict';\n  function itcConfirmation() {\n    return {\n      priority: 100,\n      restrict: 'A',\n      link: {\n        pre: function (scope, element, attrs) {\n          element.bind('click touchstart', function (e) {\n            //noinspection JSUnresolvedVariable\n            var message = attrs.itcConfirmation || 'Are you sure?';\n            if (message && !window.confirm(message)) {\n              e.stopImmediatePropagation();\n              e.preventDefault();\n            }\n          });\n        }\n      }\n    };\n  }\n  angular.module('pl.itcrowd.directives').directive('itcConfirmation', itcConfirmation);\n}());\n(function () {\n  'use strict';\n  function itcDefaultMessage($timeout) {\n    return {\n      restrict: 'A',\n      link: function (scope, element, attributes) {\n        if (!attributes.name) {\n          throw 'Directive must be set on an element that has a \\'name\\' attribute';\n        }\n        // Get the input object.\n        var fieldName = attributes.name;\n        var field = scope[element.context.form.name][fieldName];\n        var input = angular.element(element.context);\n        element.bind('focus', function (evt, args) {\n          var popover = getPopoverObject(input);\n          var tooltip;\n          if (field.$valid || field.$pristine) {\n            if (angular.isUndefined(popover)) {\n              createMessage(input);\n              showMessage(input);\n            } else {\n              tooltip = popover.$tip;\n              if (!angular.isUndefined(tooltip)) {\n                replaceMessage(popover);\n                showMessage(input);\n              }\n            }\n          }\n        });\n        element.bind('blur', function () {\n          $timeout(function () {\n            if (field.$valid || field.$pristine) {\n              hideMessage(input);\n            }\n          }, 200);\n        });\n        var createMessage = function (input) {\n          input.popover({\n            placement: 'right',\n            trigger: 'manual',\n            content: attributes.itcDefaultMessage,\n            template: '<div class=\"popover\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>'\n          });\n        };\n        var replaceMessage = function (popover) {\n          popover.options.content = attributes.itcDefaultMessage;\n        };\n        var showMessage = function (input) {\n          input.popover('show');\n        };\n        var hideMessage = function (input) {\n          input.popover('hide');\n        };\n        var getPopoverObject = function (input) {\n          return input.data('bs.popover');\n        };\n      }\n    };\n  }\n  angular.module('pl.itcrowd.directives').directive('itcDefaultMessage', [\n    '$timeout',\n    itcDefaultMessage\n  ]);\n}());\n(function () {\n  'use strict';\n  function itcDraggable() {\n    return {\n      restrict: 'C',\n      transclude: false,\n      scope: false,\n      link: function (scope, elm) {\n        elm.draggable({ revert: true });\n        scope.$on('$destroy', function () {\n          try {\n            elm.draggable('destroy');\n          } catch (e) {\n          }\n        });\n      },\n      replace: false\n    };\n  }\n  angular.module('pl.itcrowd.directives').directive('itcDraggable', itcDraggable);\n}());\n(function () {\n  'use strict';\n  function itcDroppable() {\n    return {\n      restrict: 'C',\n      transclude: false,\n      scope: false,\n      link: function (scope, elm) {\n        elm.droppable({\n          drop: function (event, ui) {\n            var draggable = angular.element(ui.draggable).scope();\n            if (scope.onBeforeDrop(draggable) !== false) {\n              scope.onDrop(draggable);\n            }\n          }\n        });\n        scope.$on('$destroy', function () {\n          try {\n            elm.droppable('destroy');\n          } catch (e) {\n          }\n        });\n      },\n      replace: false\n    };\n  }\n  angular.module('pl.itcrowd.directives').directive('itcDroppable', itcDroppable);\n}());\n(function () {\n  'use strict';\n  function itcFacebookSlidein($window) {\n    return {\n      restrict: 'E',\n      transclude: false,\n      scope: {\n        left: '@',\n        href: '@',\n        width: '@',\n        height: '@',\n        showFaces: '@',\n        stream: '@',\n        header: '@'\n      },\n      template: '<div><div class=\"fb-slidein-inner\"><div id=\"fb-root\"></div><div class=\"fb-like-box\"></div></div></div>',\n      link: function (scope, element) {\n        var left = /^true$/i.test(scope.left);\n        element.addClass(left ? 'fb-slidein-left' : 'fb-slidein-right');\n        element.find('.fb-like-box').attr('data-show-faces', scope.showFaces).attr('data-stream', scope.stream).attr('data-header', scope.header).attr('data-width', scope.width).attr('data-height', scope.height).attr('data-href', scope.href);\n        var hide = function () {\n          var value = '-' + (parseInt(scope.width, 10) + 15) + 'px';\n          var properties = left ? { left: value } : { right: value };\n          element.stop().animate(properties, 400);\n        };\n        element.css('right', '-' + (parseInt(scope.width, 10) + 15) + 'px').hover(function () {\n          var properties = left ? { left: '-15px' } : { right: '-15px' };\n          element.stop().animate(properties, 400);\n        }, hide);\n        hide();\n        (function (d, s, id) {\n          var js, fjs = d.getElementsByTagName(s)[0];\n          if (d.getElementById(id)) {\n            return;\n          }\n          js = d.createElement(s);\n          js.id = id;\n          js.src = '//connect.facebook.net/pl_PL/all.js#xfbml=1';\n          fjs.parentNode.insertBefore(js, fjs);\n        }($window.document, 'script', 'facebook-jssdk'));\n      },\n      replace: true\n    };\n  }\n  //noinspection JSValidateTypes\n  angular.module('pl.itcrowd.directives').directive('itcFacebookSlidein', [\n    '$window',\n    itcFacebookSlidein\n  ]);\n}());\n(function () {\n  'use strict';\n  function itcHeadTitle() {\n    return {\n      restrict: 'E',\n      scope: { value: '@' },\n      link: function (scope) {\n        scope.$watch('value', function () {\n          var title = jQuery('head title');\n          if (0 === title.size()) {\n            title = jQuery('<title></title>');\n            jQuery('head').append(title);\n          }\n          title.html(scope.value);\n        });\n      }\n    };\n  }\n  angular.module('pl.itcrowd.directives').directive('itcHeadTitle', itcHeadTitle);\n}());\n(function () {\n  'use strict';\n  function itcKeepInView() {\n    return {\n      restrict: 'A',\n      scope: false,\n      link: function (scope, element, attrs) {\n        var $window = jQuery(window);\n        var container = element.parents('.ui-layout-pane');\n        function reattach() {\n          if (element.filter(':visible').size() < 1) {\n            return;\n          }\n          var container = element.parents('.ui-layout-pane');\n          //noinspection JSUnresolvedVariable\n          var parent = element.parents(attrs.ngKeepInView);\n          if (parent.size() === 0) {\n            return;\n          }\n          element.children().css({ width: '100%' });\n          var elementOuterHeight = element.outerHeight();\n          if (parent.offset().top + parent.innerHeight() + container.scrollTop() <= container.height()) {\n            element.css({\n              position: 'static',\n              width: '100%'\n            });\n            parent.css({ paddingBottom: 0 });\n          } else {\n            var bottom = $window.innerHeight() - (container.innerHeight() + container.offset().top);\n            element.css({\n              position: 'fixed',\n              bottom: bottom,\n              width: parent.innerWidth()\n            });\n            parent.css({ paddingBottom: elementOuterHeight + 'px' });\n          }\n        }\n        element.resize(reattach);\n        $window.resize(reattach);\n        container.resize(reattach);\n        scope.$watch(attrs.ngModel, function () {\n          reattach();\n        });\n        scope.$on('$destroy', function () {\n          element.unbind('resize', reattach);\n          $window.unbind('resize', reattach);\n          container.unbind('resize', reattach);\n        });\n      }\n    };\n  }\n  angular.module('pl.itcrowd.directives').directive('itcKeepInView', itcKeepInView);\n}());\n(function () {\n  'use strict';\n  function itcKeyTip() {\n    return {\n      restrict: 'A',\n      scope: false,\n      link: function (scope, element, attrs) {\n        function doKeyTip(value) {\n          if (value) {\n            jQuery(element).keyTips();\n          }\n        }\n        //noinspection JSUnresolvedVariable\n        var watchExpressions = attrs.itcKeyTip.split(',');\n        for (var i = 0; i < watchExpressions.length; i++) {\n          var expression = watchExpressions[i];\n          scope.$watch(expression, doKeyTip);\n        }\n      }\n    };\n  }\n  angular.module('pl.itcrowd.directives').directive('itcKeyTip', itcKeyTip);\n}());\nangular.module('pl.itcrowd.directives').directive('itcLaddaButtons', [\n  'laddaConfig',\n  '$timeout',\n  function (laddaConfig) {\n    return {\n      restrict: 'A',\n      link: function postLink($scope, element, attrs) {\n        attrs['style'] = attrs['style'] || laddaConfig.style;\n        element.attr('data-style', attrs['style']);\n        if (!element.hasClass('ladda-button')) {\n          element.addClass('ladda-button');\n        }\n        if (!element[0].querySelector('.ladda-label')) {\n          var label = angular.element('<span class=\\'ladda-label\\'></span>');\n          angular.forEach(element.contents(), function (item) {\n            label.append(item);\n          });\n          element.append(label);\n        }\n        var ladda = Ladda.create(element[0]);\n        $scope.$watch(attrs.ladda, function (newVal) {\n          if (newVal !== undefined) {\n            var progress = parseInt(newVal);\n            if (progress) {\n              if (!ladda.isLoading()) {\n                ladda.start();\n              }\n              ladda.setProgress(progress / 100);\n            } else {\n              if (newVal) {\n                ladda.start();\n              } else {\n                ladda.stop();\n              }\n            }\n          }\n        });\n      }\n    };\n  }\n]).constant('laddaConfig', { 'style': 'slide-left' });\n/**\n * Directive has the following options:\n * - It can show all messages or only those of specific type. To display all messages use itc-messages attribute with no parameters.\n *   To display messages of certain type use itc-messages=\"[type]\" ex. itc-messages=\"error\". Note that you can have several itc-messages tags on page,\n *   each displaying different type of messages.\n * - Message bubbles can stay until they are closed by the user (default option) or fade out after given time. For the latter use attribute\n *   stay-time=\"[time in millis]\" .\n */\n(function () {\n  'use strict';\n  function itcMessages($compile, $timeout, MessageFactory) {\n    return {\n      scope: { stayTime: '@' },\n      template: '<div id=\"messages\" ng-repeat=\"message in messages\"></div>',\n      link: function ($scope, element, attr) {\n        function show(message, type) {\n          var messageTemplate = '<div class=\"alert\"><button type=\"button\" class=\"close\" data-dismiss=\"alert\">&times;</button>' + message + '</div>';\n          var messageElement = $compile(messageTemplate)($scope);\n          messageElement.addClass('alert-' + (type === 'error' ? 'danger' : type === 'warn' ? 'warning' : type));\n          element.append(messageElement);\n          if ($scope.stayTime) {\n            $timeout(function () {\n              messageElement.fadeOut(400, function () {\n                messageElement.remove();\n              });\n            }, $scope.stayTime);\n          }\n        }\n        $scope.$on('$destroy', function () {\n          MessageFactory.clean();\n        });\n        //noinspection JSUnresolvedVariable\n        MessageFactory.subscribe(show, attr.itcMessages);\n      }\n    };\n  }\n  //noinspection JSValidateTypes\n  angular.module('pl.itcrowd.directives').directive('itcMessages', [\n    '$compile',\n    '$timeout',\n    'MessageFactory',\n    itcMessages\n  ]);\n}());\n(function () {\n  'use strict';\n  function itcMetadata() {\n    return {\n      restrict: 'E',\n      scope: {\n        name: '@',\n        content: '@'\n      },\n      link: function (scope) {\n        scope.$watch('content', function () {\n          var meta = jQuery('meta[name=' + scope.name + ']');\n          if (0 === meta.size()) {\n            meta = jQuery('<meta name=\"' + scope.name + '\">');\n            jQuery('head').append(meta);\n          }\n          meta.attr('content', scope.content);\n        });\n      }\n    };\n  }\n  angular.module('pl.itcrowd.directives').directive('itcMetadata', itcMetadata);\n}());\n(function () {\n  'use strict';\n  function itcScrollTo() {\n    return {\n      restrict: 'A',\n      compile: function () {\n        return function (scope, element) {\n          element.find('a').smoothScroll({ offset: -100 });\n          angular.forEach(element.find('a'), function (field) {\n            jQuery(field).click(function (event) {\n              event.preventDefault();\n            });\n          });\n        };\n      }\n    };\n  }\n  angular.module('pl.itcrowd.directives').directive('itcScrollTo', itcScrollTo);\n}());\n(function () {\n  'use strict';\n  function itcSmartFloat() {\n    var FLOAT_REGEXP = /^\\-?\\d+((\\.|\\,)\\d+)?$/;\n    return {\n      require: 'ngModel',\n      link: function (scope, elm, attrs, ctrl) {\n        ctrl.$parsers.unshift(function (viewValue) {\n          if (FLOAT_REGEXP.test(viewValue)) {\n            ctrl.$setValidity('float', true);\n            if (typeof viewValue === 'number') {\n              return viewValue;\n            } else {\n              return parseFloat(viewValue.replace(',', '.'));\n            }\n          } else {\n            ctrl.$setValidity('float', false);\n            return undefined;\n          }\n        });\n      }\n    };\n  }\n  angular.module('pl.itcrowd.directives').directive('itcSmartFloat', itcSmartFloat);\n}());\n/*global Spinner*/\n(function () {\n  'use strict';\n  function itcSpinner() {\n    return {\n      restrict: 'A',\n      link: function (scope, element, attrs) {\n        var spinner;\n        var start = function () {\n          var height = element.height(), opts = {\n              length: Math.round(height / 8),\n              radius: Math.round(height / 5),\n              width: Math.round(height / 10),\n              color: element.css('color'),\n              className: 'spinner'\n            };\n          attrs.$set('disabled', true);\n          spinner = new Spinner(opts).spin(element[0]);\n        };\n        scope.$watch(attrs.itcSpinner, function (newVal) {\n          if (newVal) {\n            start();\n          } else if (spinner) {\n            attrs.$set('disabled', false);\n            spinner.stop();\n          }\n        });\n      }\n    };\n  }\n  angular.module('pl.itcrowd.directives').directive('itcSpinner', [\n    '$timeout',\n    itcSpinner\n  ]);\n}());\n(function () {\n  'use strict';\n  function itcStopEventPropagation() {\n    return {\n      restrict: 'A',\n      link: function (scope, element, attr) {\n        element.bind(attr.itcStopEventPropagation, function (e) {\n          e.stopPropagation();\n        });\n      }\n    };\n  }\n  angular.module('pl.itcrowd.directives').directive('itcStopEventPropagation', itcStopEventPropagation);\n}());\n(function () {\n  'use strict';\n  function itcSubmit() {\n    return {\n      restrict: 'A',\n      link: function (scope, element, attributes) {\n        var PRISTINE_CLASS = 'ng-pristine', DIRTY_CLASS = 'ng-dirty';\n        if (!attributes.name) {\n          throw 'Directive must be set on an element that has a \\'name\\' attribute';\n        }\n        // Add novalidate to the form element if not exist.\n        if (angular.isUndefined(attributes.novalidate)) {\n          attributes.$set('novalidate', '');\n        }\n        element.bind('submit', function (e) {\n          e.preventDefault();\n          // Remove the class pristine from all form elements and add the dirty class\n          element.find('.ng-pristine').removeClass(PRISTINE_CLASS).addClass(DIRTY_CLASS);\n          // Get the form object.\n          var formName = attributes.name;\n          var form = scope[formName];\n          form.$setDirty(true);\n          // Set all the fields to dirty and apply the changes on the scope so that\n          // validation errors are shown on submit only.\n          angular.forEach(form, function (field, fieldName) {\n            // If the field name starts with a '$' sign, it means it's an Angular object so we should skip those items\n            if (fieldName[0] === '$') {\n              return;\n            }\n            field.$dirty = true;\n            field.$pristine = false;\n          });\n          // Do not continue if the form is invalid.\n          if (form.$invalid) {\n            scope.$apply();\n            if (angular.isUndefined(attributes.itcSubmitWithoutFocus)) {\n              // Focus on the first field that is invalid\n              element.find('.ng-invalid').first().focus();\n            }\n            scope.$emit('formValidationErrors', formName);\n          } else {\n            scope.$apply(attributes.itcSubmit);\n          }\n        });\n      }\n    };\n  }\n  angular.module('pl.itcrowd.directives').directive('itcSubmit', itcSubmit);\n}());\n(function () {\n  'use strict';\n  function itcEquals() {\n    return {\n      restrict: 'A',\n      require: '^ngModel',\n      link: function (scope, elem, attrs, ctrl) {\n        var validate = function () {\n          //get the model value of the first input\n          //noinspection JSUnresolvedVariable\n          var val1 = scope.$eval(attrs.itcEquals);\n          //get the model value of the second input\n          var val2 = scope.$eval(attrs.ngModel);\n          return val1 === val2;\n        };\n        scope.$watch(validate, function (validity) {\n          ctrl.$setValidity('equals', validity);\n        });\n      }\n    };\n  }\n  function itcLessThan() {\n    return {\n      restrict: 'A',\n      require: '^ngModel',\n      link: function (scope, elem, attrs, ctrl) {\n        var validate = function () {\n          //get the model value of the first input\n          var val1 = scope.$eval(attrs.itcLessThan);\n          //get the model value of the second input\n          var val2 = scope.$eval(attrs.ngModel);\n          return val2 < val1;\n        };\n        scope.$watch(validate, function (validity) {\n          ctrl.$setValidity('lessthan', validity);\n        });\n      }\n    };\n  }\n  angular.module('pl.itcrowd.directives').directive('itcEquals', itcEquals);\n  angular.module('pl.itcrowd.directives').directive('itcLessThan', itcLessThan);\n}());\n(function () {\n  'use strict';\n  function itcValidationMessages(ValidationMessages) {\n    return {\n      restrict: 'A',\n      link: function (scope, element, attributes) {\n        var DEFAULT_LANGUAGE = 'en';\n        if (!attributes.name) {\n          throw new Error('Directive must be set on an element that has a \"name\" attribute');\n        }\n        var event = attributes.itcValidationMessagesEvent;\n        var type = attributes.itcValidationMessagesType;\n        // Get the form object.\n        var formName = attributes.name;\n        var form = scope[formName];\n        scope.$on('fieldValidationError', function (evt, args) {\n          if (formName === args.formName) {\n            findErrors(args.field, args.fieldName);\n          }\n        });\n        //                    On this event all fields in the form will be check\n        scope.$on('formValidationErrors', function (evt, data) {\n          if (formName === data) {\n            checkFieldsValidity();\n          }\n        });\n        angular.forEach(form, function (field, fieldName) {\n          // If the field name starts with a '$' sign, it means it's an Angular property or function and we should skip those items.\n          if (fieldName[0] === '$') {\n            return;\n          }\n          var input = angular.element(element.context[fieldName]);\n          if (angular.isUndefined(event)) {\n            input.bind('blur', function () {\n              findErrors(field, fieldName);\n            });\n          } else {\n            scope.$watch(function () {\n              // Watching the class attribute to capture validations errors\n              return input.attr('class');\n            }, function () {\n              scope.$emit('fieldValidationError', {\n                formName: formName,\n                field: field,\n                fieldName: fieldName\n              });\n            });\n          }\n        });\n        var checkFieldsValidity = function () {\n          if (!form.$pristine) {\n            angular.forEach(form, function (field, fieldName) {\n              if (fieldName[0] === '$') {\n                return;\n              }\n              findErrors(field, fieldName);\n            });\n          }\n        };\n        var findErrors = function (field, fieldName) {\n          var error = {};\n          var input = angular.element(element.context[fieldName]);\n          if (angular.isUndefined(type)) {\n            var popover = getPopover(input);\n            var tooltip;\n            if (field.$valid && !angular.isUndefined(popover)) {\n              hidePopover(input);\n              tooltip = popover.$tip;\n              tooltip.removeClass('error');\n            } else if (field.$invalid && field.$dirty) {\n              error = getFirstError(field);\n              if (angular.isUndefined(popover)) {\n                createPopover(input, error.key);\n                showPopover(input);\n              } else {\n                tooltip = popover.$tip;\n                if (!angular.isUndefined(tooltip)) {\n                  replacePopoverMessage(popover, getMessageContent(input, error.key));\n                  if (!tooltip.hasClass('error')) {\n                    tooltip.addClass('error');\n                  }\n                  showPopover(input);\n                }\n              }\n            }\n          } else {\n            var block;\n            if (type !== 'block') {\n              block = $(type + '-' + fieldName);\n            } else {\n              block = getBlock(input);\n            }\n            if (field.$valid && block.length !== 0) {\n              hideBlock(block);\n            } else if (field.$invalid && field.$dirty) {\n              error = getFirstError(field);\n              if (block.length === 0) {\n                createBlock(input, error.key);\n              } else {\n                replaceBlockMessage(block, getMessageContent(input, error.key));\n                showBlock(block);\n              }\n            }\n          }\n        };\n        var getFirstError = function (field) {\n          var error = {};\n          angular.forEach(field.$error, function (value, key) {\n            if (value && $.isEmptyObject(error)) {\n              error = {\n                value: value,\n                key: key\n              };\n            }\n          });\n          return error;\n        };\n        var createPopover = function (input, key) {\n          input.popover({\n            placement: 'right',\n            trigger: 'manual',\n            content: getMessageContent(input, key),\n            template: '<div class=\"popover error\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>'\n          });\n        };\n        var replacePopoverMessage = function (popover, newMessage) {\n          popover.options.content = newMessage;\n        };\n        var showPopover = function (input) {\n          input.popover('show');\n        };\n        var hidePopover = function (input) {\n          input.popover('hide');\n        };\n        var getPopover = function (input) {\n          return input.data('bs.popover');\n        };\n        var getMessageContent = function (input, key) {\n          var customMessage = input.attr(key + '-message');\n          if (angular.isUndefined(customMessage)) {\n            var selectedLanguage = scope.selectedLanguage;\n            if (!angular.isUndefined(selectedLanguage)) {\n              return ValidationMessages.validationMessages[selectedLanguage][key];\n            } else {\n              return ValidationMessages.validationMessages[DEFAULT_LANGUAGE][key];\n            }\n          } else {\n            return customMessage;\n          }\n        };\n        var createBlock = function (input, key) {\n          input.after('<div class=\"alert alert-danger alert-' + input.attr('name') + '\">' + getMessageContent(input, key) + '</div>');\n        };\n        var replaceBlockMessage = function (block, newMessage) {\n          block.html(newMessage);\n        };\n        var showBlock = function (block) {\n          block.show();\n        };\n        var hideBlock = function (block) {\n          block.hide();\n        };\n        var getBlock = function (input) {\n          return input.parent().find('.alert-' + input.attr('name'));\n        };\n      }\n    };\n  }\n  angular.module('pl.itcrowd.directives').directive('itcValidationMessages', [\n    'ValidationMessages',\n    itcValidationMessages\n  ]);\n}());\nangular.module('pl.itcrowd.constants', []);\nangular.module('pl.itcrowd.directives', []);\nangular.module('pl.itcrowd.services', []);\n(function () {\n  'use strict';\n  /* Start angularLocalStorage */\n  var angularLocalStorage = angular.module('LocalStorageModule', []);\n  // You should set a prefix to avoid overwriting any local storage variables from the rest of your app\n  // e.g. angularLocalStorage.constant('prefix', 'youAppName');\n  angularLocalStorage.value('prefix', 'restBaseITC');\n  // Cookie options (usually in case of fallback)\n  // expiry = Number of days before cookies expire // 0 = Does not expire\n  // path = The web path the cookie represents\n  angularLocalStorage.constant('cookie', {\n    expiry: 30,\n    path: '/'\n  });\n  angularLocalStorage.constant('notify', {\n    setItem: true,\n    removeItem: false\n  });\n  angularLocalStorage.service('localStorageService', [\n    '$rootScope',\n    'prefix',\n    'cookie',\n    'notify',\n    function ($rootScope, prefix, cookie, notify) {\n      // If there is a prefix set in the config lets use that with an appended period for readability\n      //var prefix = angularLocalStorage.constant;\n      if (prefix.substr(-1) !== '.') {\n        prefix = !!prefix ? prefix + '.' : '';\n      }\n      // Checks the browser to see if local storage is supported\n      var browserSupportsLocalStorage = function () {\n        try {\n          return 'localStorage' in window && window.localStorage !== null;\n        } catch (e) {\n          $rootScope.$broadcast('LocalStorageModule.notification.error', e.message);\n          return false;\n        }\n      };\n      // Directly adds a value to local storage\n      // If local storage is not available in the browser use cookies\n      // Example use: localStorageService.add('library','angular');\n      var addToLocalStorage = function (key, value) {\n        // If this browser does not support local storage use cookies\n        if (!browserSupportsLocalStorage()) {\n          $rootScope.$broadcast('LocalStorageModule.notification.warning', 'LOCAL_STORAGE_NOT_SUPPORTED');\n          if (notify.setItem) {\n            $rootScope.$broadcast('LocalStorageModule.notification.setitem', {\n              key: key,\n              newvalue: value,\n              storageType: 'cookie'\n            });\n          }\n          return addToCookies(key, value);\n        }\n        // Let's convert undefined values to null to get the value consistent\n        if (typeof value === 'undefined') {\n          value = null;\n        }\n        try {\n          if (angular.isObject(value) || angular.isArray(value)) {\n            value = angular.toJson(value);\n          }\n          localStorage.setItem(prefix + key, value);\n          if (notify.setItem) {\n            $rootScope.$broadcast('LocalStorageModule.notification.setitem', {\n              key: key,\n              newvalue: value,\n              storageType: 'localStorage'\n            });\n          }\n        } catch (e) {\n          $rootScope.$broadcast('LocalStorageModule.notification.error', e.message);\n          return addToCookies(key, value);\n        }\n        return true;\n      };\n      // Directly get a value from local storage\n      // Example use: localStorageService.get('library'); // returns 'angular'\n      var getFromLocalStorage = function (key) {\n        if (!browserSupportsLocalStorage()) {\n          $rootScope.$broadcast('LocalStorageModule.notification.warning', 'LOCAL_STORAGE_NOT_SUPPORTED');\n          return getFromCookies(key);\n        }\n        var item = localStorage.getItem(prefix + key);\n        // angular.toJson will convert null to 'null', so a proper conversion is needed\n        // FIXME not a perfect solution, since a valid 'null' string can't be stored\n        if (!item || item === 'null') {\n          return null;\n        }\n        if (item.charAt(0) === '{' || item.charAt(0) === '[') {\n          return angular.fromJson(item);\n        }\n        return item;\n      };\n      // Remove an item from local storage\n      // Example use: localStorageService.remove('library'); // removes the key/value pair of library='angular'\n      var removeFromLocalStorage = function (key) {\n        if (!browserSupportsLocalStorage()) {\n          $rootScope.$broadcast('LocalStorageModule.notification.warning', 'LOCAL_STORAGE_NOT_SUPPORTED');\n          if (notify.removeItem) {\n            $rootScope.$broadcast('LocalStorageModule.notification.removeitem', {\n              key: key,\n              storageType: 'cookie'\n            });\n          }\n          return removeFromCookies(key);\n        }\n        try {\n          localStorage.removeItem(prefix + key);\n          if (notify.removeItem) {\n            $rootScope.$broadcast('LocalStorageModule.notification.removeitem', {\n              key: key,\n              storageType: 'localStorage'\n            });\n          }\n        } catch (e) {\n          $rootScope.$broadcast('LocalStorageModule.notification.error', e.message);\n          return removeFromCookies(key);\n        }\n        return true;\n      };\n      // Return array of keys for local storage\n      // Example use: var keys = localStorageService.keys()\n      var getKeysForLocalStorage = function () {\n        if (!browserSupportsLocalStorage()) {\n          $rootScope.$broadcast('LocalStorageModule.notification.warning', 'LOCAL_STORAGE_NOT_SUPPORTED');\n          return false;\n        }\n        var prefixLength = prefix.length;\n        var keys = [];\n        for (var key in localStorage) {\n          // Only return keys that are for this app\n          if (key.substr(0, prefixLength) === prefix) {\n            try {\n              keys.push(key.substr(prefixLength));\n            } catch (e) {\n              $rootScope.$broadcast('LocalStorageModule.notification.error', e.Description);\n              return [];\n            }\n          }\n        }\n        return keys;\n      };\n      // Remove all data for this app from local storage\n      // Example use: localStorageService.clearAll();\n      // Should be used mostly for development purposes\n      var clearAllFromLocalStorage = function () {\n        if (!browserSupportsLocalStorage()) {\n          $rootScope.$broadcast('LocalStorageModule.notification.warning', 'LOCAL_STORAGE_NOT_SUPPORTED');\n          return clearAllFromCookies();\n        }\n        var prefixLength = prefix.length;\n        for (var key in localStorage) {\n          // Only remove items that are for this app\n          if (key.substr(0, prefixLength) === prefix) {\n            try {\n              removeFromLocalStorage(key.substr(prefixLength));\n            } catch (e) {\n              $rootScope.$broadcast('LocalStorageModule.notification.error', e.message);\n              return clearAllFromCookies();\n            }\n          }\n        }\n        return true;\n      };\n      // Checks the browser to see if cookies are supported\n      var browserSupportsCookies = function () {\n        try {\n          return navigator.cookieEnabled || 'cookie' in document && (document.cookie.length > 0 || (document.cookie = 'test').indexOf.call(document.cookie, 'test') > -1);\n        } catch (e) {\n          $rootScope.$broadcast('LocalStorageModule.notification.error', e.message);\n          return false;\n        }\n      };\n      // Directly adds a value to cookies\n      // Typically used as a fallback is local storage is not available in the browser\n      // Example use: localStorageService.cookie.add('library','angular');\n      var addToCookies = function (key, value) {\n        if (typeof value === 'undefined') {\n          return false;\n        }\n        if (!browserSupportsCookies()) {\n          $rootScope.$broadcast('LocalStorageModule.notification.error', 'COOKIES_NOT_SUPPORTED');\n          return false;\n        }\n        try {\n          var expiry = '', expiryDate = new Date();\n          if (value === null) {\n            // Mark that the cookie has expired one day ago\n            expiryDate.setTime(expiryDate.getTime() + -1 * 24 * 60 * 60 * 1000);\n            expiry = '; expires=' + expiryDate.toGMTString();\n            value = '';\n          } else if (cookie.expiry !== 0) {\n            expiryDate.setTime(expiryDate.getTime() + cookie.expiry * 24 * 60 * 60 * 1000);\n            expiry = '; expires=' + expiryDate.toGMTString();\n          }\n          if (!!key) {\n            document.cookie = prefix + key + '=' + encodeURIComponent(value) + expiry + '; path=' + cookie.path;\n          }\n        } catch (e) {\n          $rootScope.$broadcast('LocalStorageModule.notification.error', e.message);\n          return false;\n        }\n        return true;\n      };\n      // Directly get a value from a cookie\n      // Example use: localStorageService.cookie.get('library'); // returns 'angular'\n      var getFromCookies = function (key) {\n        if (!browserSupportsCookies()) {\n          $rootScope.$broadcast('LocalStorageModule.notification.error', 'COOKIES_NOT_SUPPORTED');\n          return false;\n        }\n        var cookies = document.cookie.split(';');\n        for (var i = 0; i < cookies.length; i++) {\n          var thisCookie = cookies[i];\n          while (thisCookie.charAt(0) === ' ') {\n            thisCookie = thisCookie.substring(1, thisCookie.length);\n          }\n          if (thisCookie.indexOf(prefix + key + '=') === 0) {\n            return decodeURIComponent(thisCookie.substring(prefix.length + key.length + 1, thisCookie.length));\n          }\n        }\n        return null;\n      };\n      var removeFromCookies = function (key) {\n        addToCookies(key, null);\n      };\n      var clearAllFromCookies = function () {\n        var thisCookie = null;\n        var prefixLength = prefix.length;\n        var cookies = document.cookie.split(';');\n        for (var i = 0; i < cookies.length; i++) {\n          thisCookie = cookies[i];\n          while (thisCookie.charAt(0) === ' ') {\n            thisCookie = thisCookie.substring(1, thisCookie.length);\n          }\n          var key = thisCookie.substring(prefixLength, thisCookie.indexOf('='));\n          removeFromCookies(key);\n        }\n      };\n      return {\n        isSupported: browserSupportsLocalStorage,\n        set: addToLocalStorage,\n        add: addToLocalStorage,\n        get: getFromLocalStorage,\n        keys: getKeysForLocalStorage,\n        remove: removeFromLocalStorage,\n        clearAll: clearAllFromLocalStorage,\n        cookie: {\n          set: addToCookies,\n          add: addToCookies,\n          get: getFromCookies,\n          remove: removeFromCookies,\n          clearAll: clearAllFromCookies\n        }\n      };\n    }\n  ]);\n}.call(this));\n(function () {\n  'use strict';\n  function AsyncQueue($log, $timeout) {\n    var defaultQueueName = 'default';\n    var queue = [];\n    var queueConfig = {};\n    queueConfig[defaultQueueName] = { timeout: 0 };\n    function isDuplicate(queueItem, callback, options) {\n      if (null != options.groupingId || null != queueItem.options.groupingId) {\n        return options.groupingId === queueItem.options.groupingId;\n      }\n      return queueItem.callback === callback;\n    }\n    function createQueueItem(callback, config, options) {\n      config = angular.extend({}, config, options);\n      var promise = $timeout(callback, config.timeout);\n      promise.then(function removeQueueItem() {\n        for (var i = 0; i < queue.length; i++) {\n          if (queue[i].promise === promise) {\n            queue.splice(i, 1);\n            return;\n          }\n        }\n      });\n      return {\n        callback: callback,\n        options: options,\n        promise: promise\n      };\n    }\n    function add(callback, options) {\n      options = angular.extend({ queueId: defaultQueueName }, options);\n      for (var i = 0; i < queue.length; i++) {\n        if (isDuplicate(queue[i], callback, options)) {\n          $timeout.cancel(queue[i].promise);\n          queue.splice(i, 1);\n          break;\n        }\n      }\n      if (null == queueConfig[options.queueId]) {\n        $log.warn('No queue `' + options.queueId + '` defined');\n        options.queueId = defaultQueueName;\n      }\n      var config = angular.extend({}, queueConfig[options.queueId], options);\n      if (config.timeout > 0) {\n        queue.push(createQueueItem(callback, config, options));\n      } else {\n        callback();\n      }\n    }\n    function configure(config, queueId) {\n      if (null == queueId) {\n        queueId = defaultQueueName;\n      }\n      queueConfig[queueId] = angular.extend(queueConfig[queueId] || {}, config);\n    }\n    return {\n      add: add,\n      configure: configure\n    };\n  }\n  angular.module('pl.itcrowd.services').factory('AsyncQueue', [\n    '$log',\n    '$timeout',\n    AsyncQueue\n  ]);\n}());\n/*global clientContextPath,doubleEscapedContextPath*/\n(function () {\n  'use strict';\n  function Authenticator($http, $rootScope, Base64) {\n    function setupAuthorizationHeader(data) {\n      $http.defaults.headers.common.Authorization = 'Token ' + Base64.encode(data);\n    }\n    /**\n         * initialize to whatever is in the cookie, if anything\n         */\n    var cookieAuthdata = $.cookie('token');\n    if (cookieAuthdata) {\n      setupAuthorizationHeader(cookieAuthdata);\n    }\n    function buildParams(paramsObject) {\n      var r20 = /%20/g, paramsArray = [];\n      angular.forEach(paramsObject, function (value, key) {\n        paramsArray[paramsArray.length] = encodeURIComponent(key) + '=' + encodeURIComponent(value);\n      });\n      return paramsArray.join('&').replace(r20, '+');\n    }\n    var authenticator = {\n        login: function (email, password, success, failure) {\n          var payload = buildParams({\n              username: email,\n              password: password\n            });\n          var config = { headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8' } };\n          //delete auth header & cookie\n          delete $http.defaults.headers.common.Authorization;\n          $.removeCookie('token', { path: clientContextPath });\n          var request = $http.post(doubleEscapedContextPath + '/api/user/auth', payload, config).success(function (data) {\n              authenticator.setToken(data);\n              if (success instanceof Function) {\n                success();\n              }\n            });\n          if (failure instanceof Function) {\n            request.error(failure);\n          }\n        },\n        logout: function () {\n          document.execCommand('ClearAuthenticationCache');\n          $.removeCookie('token', { path: clientContextPath });\n          delete $http.defaults.headers.common.Authorization;\n        },\n        setToken: function (token) {\n          if (null == token) {\n            throw new Error('Token may not be null or undefined');\n          }\n          $.cookie('token', token, { path: clientContextPath });\n          setupAuthorizationHeader(token);\n          //try to fetch current user if token is set\n          $rootScope.$broadcast('RestBase:authentication-token-set');\n        }\n      };\n    return authenticator;\n  }\n  function Base64() {\n    var keyStr = 'ABCDEFGHIJKLMNOP' + 'QRSTUVWXYZabcdef' + 'ghijklmnopqrstuv' + 'wxyz0123456789+/' + '=';\n    //noinspection JSUnusedGlobalSymbols\n    return {\n      encode: function (input) {\n        var output = '';\n        var chr1, chr2, chr3 = '';\n        var enc1, enc2, enc3, enc4 = '';\n        var i = 0;\n        do {\n          chr1 = input.charCodeAt(i++);\n          chr2 = input.charCodeAt(i++);\n          chr3 = input.charCodeAt(i++);\n          /*jshint bitwise:false*/\n          enc1 = chr1 >> 2;\n          enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n          enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n          enc4 = chr3 & 63;\n          if (isNaN(chr2)) {\n            enc3 = enc4 = 64;\n          } else if (isNaN(chr3)) {\n            enc4 = 64;\n          }\n          //noinspection JSValidateTypes\n          output = output + keyStr.charAt(enc1) + keyStr.charAt(enc2) + keyStr.charAt(enc3) + keyStr.charAt(enc4);\n          chr1 = chr2 = chr3 = '';\n          enc1 = enc2 = enc3 = enc4 = '';\n        } while (i < input.length);\n        return output;\n      },\n      decode: function (input) {\n        var output = '';\n        var chr1, chr2, chr3 = '';\n        var enc1, enc2, enc3, enc4 = '';\n        var i = 0;\n        // remove all characters that are not A-Z, a-z, 0-9, +, /, or =\n        var base64test = /[^A-Za-z0-9\\+\\/=]/g;\n        if (base64test.exec(input)) {\n          throw new Error('There were invalid base64 characters in the input text.\\n' + 'Valid base64 characters are A-Z, a-z, 0-9, \"+\", \"/\",and \"=\"\\n' + 'Expect errors in decoding.');\n        }\n        //noinspection JSCheckFunctionSignatures\n        input = input.replace(/[^A-Za-z0-9\\+\\/=]/g, '');\n        do {\n          enc1 = keyStr.indexOf(input.charAt(i++));\n          enc2 = keyStr.indexOf(input.charAt(i++));\n          enc3 = keyStr.indexOf(input.charAt(i++));\n          enc4 = keyStr.indexOf(input.charAt(i++));\n          /*jshint bitwise:false*/\n          chr1 = enc1 << 2 | enc2 >> 4;\n          chr2 = (enc2 & 15) << 4 | enc3 >> 2;\n          chr3 = (enc3 & 3) << 6 | enc4;\n          output = output + String.fromCharCode(chr1);\n          if (enc3 !== 64) {\n            output = output + String.fromCharCode(chr2);\n          }\n          if (enc4 !== 64) {\n            //noinspection JSValidateTypes\n            output = output + String.fromCharCode(chr3);\n          }\n          chr1 = chr2 = chr3 = '';\n          enc1 = enc2 = enc3 = enc4 = '';\n        } while (i < input.length);\n        return output;\n      }\n    };\n  }\n  /**\n     * Authenticator must be in different module than ExceptionHandler.\n     */\n  var module = angular.module('pl.itcrowd.services.auth', []);\n  //noinspection JSValidateTypes\n  module.factory('Authenticator', [\n    '$http',\n    '$rootScope',\n    'Base64',\n    Authenticator\n  ]);\n  module.factory('Base64', Base64);\n}());\n(function () {\n  'use strict';\n  /**\n     * ExceptionHandler must be loaded after http-auth-interceptor i.e.:\n     *\n     * angular.module('restbase', ['http-auth-interceptor','restbase.services']);\n     */\n  angular.module('pl.itcrowd.services').config([\n    '$httpProvider',\n    function ($httpProvider) {\n      function interceptor($location, $rootScope, $q) {\n        function success(response) {\n          return response;\n        }\n        function error(response) {\n          /*jshint maxcomplexity:false*/\n          var status = response.status;\n          $rootScope.errorDate = new Date();\n          if (null != response.config && null != response.config.skipDefaultInterceptors && null != response.config.skipDefaultInterceptors.codes && response.config.skipDefaultInterceptors.codes.indexOf(status) > -1) {\n            return $q.reject(response);\n          }\n          switch (status) {\n          case 400:\n            $rootScope.errorMessage = 'Request cannot be fulfilled due to bad syntax!';\n            break;\n          case 401:\n            return response;\n          // Let http-auth-interceptor.js handle this response\n          case 403:\n            $rootScope.errorMessage = 'You don\\'t have access to this page or resource!';\n            break;\n          case 404:\n            $rootScope.errorMessage = 'The page or resource your are looking for does not exist!';\n            break;\n          case 405:\n            $rootScope.errorMessage = 'Request method not supported!';\n            break;\n          case 408:\n            $rootScope.errorMessage = 'The server timed out waiting for the request!';\n            break;\n          case 412:\n            $rootScope.errorMessage = 'Precondition failed: ' + response.data;\n            break;\n          case 415:\n            $rootScope.errorMessage = 'This media type is not supported!';\n            break;\n          case 503:\n            $rootScope.errorMessage = 'The server is currently unavailable (overloaded or down)!';\n            break;\n          case 505:\n            $rootScope.errorMessage = 'The server does not support the HTTP protocol version used in the request!';\n            break;\n          default:\n            $rootScope.errorMessage = response.message ? response.message : 'Internal Server Error! Something went really wrong...';\n          }\n          $location.path('/error');\n          $location.replace();\n          return $q.reject(response);\n        }\n        return function (promise) {\n          return promise.then(success, error);\n        };\n      }\n      $httpProvider.responseInterceptors.push([\n        '$location',\n        '$rootScope',\n        '$q',\n        interceptor\n      ]);\n    }\n  ]);\n}());\n(function () {\n  'use strict';\n  function MessageFactory() {\n    var subscribers = [];\n    return {\n      notify: function (type, message) {\n        angular.forEach(subscribers, function (subscriber) {\n          if (!subscriber.type || subscriber.type === type) {\n            subscriber.cb(message, type);\n          }\n        });\n      },\n      clean: function () {\n        subscribers = [];\n      },\n      subscribe: function (subscriber, type) {\n        subscribers.push({\n          cb: subscriber,\n          type: type\n        });\n      },\n      success: function (message) {\n        this.notify('success', message);\n      },\n      info: function (message) {\n        this.notify('info', message);\n      },\n      warn: function (message) {\n        this.notify('warn', message);\n      },\n      error: function (message) {\n        this.notify('error', message);\n      }\n    };\n  }\n  angular.module('pl.itcrowd.services').factory('MessageFactory', MessageFactory);\n}());\n(function () {\n  'use strict';\n  function paginationSupport() {\n    /*jshint validthis:true*/\n    var defaultConfig = { maxResults: 20 };\n    this.setDefaultConfig = function (config) {\n      defaultConfig = config;\n    };\n    this.$get = [\n      'AsyncQueue',\n      function (AsyncQueue) {\n        function AbstractPagination($scope, refreshFunction, asyncQueueOptions) {\n          $scope.filter = $scope.filter || {};\n          $scope.filter = angular.extend({\n            firstResult: 0,\n            maxResults: defaultConfig.maxResults\n          }, $scope.filter);\n          var doRefresh = angular.bind(null, refreshFunction, function (resultCount) {\n              $scope.resultCount = resultCount;\n            });\n          function refresh() {\n            AsyncQueue.add(doRefresh, asyncQueueOptions);\n          }\n          function modelListener(newValue, oldValue) {\n            if (newValue === oldValue) {\n              return;\n            }\n            refresh();\n          }\n          function pageAwareModelListener(newValue, oldValue) {\n            if (newValue === oldValue) {\n              return;\n            }\n            $scope.currentPage = 1;\n            modelListener(newValue, oldValue);\n          }\n          for (var key in $scope.filter) {\n            if ($scope.filter.hasOwnProperty(key)) {\n              var listener = 'firstResult' === key || 'maxResults' === key ? modelListener : pageAwareModelListener;\n              $scope.$watch('filter.' + key, listener, true);\n            }\n          }\n          $scope.isPaginationNeeded = function () {\n            return $scope.resultCount > $scope.filter.maxResults;\n          };\n          $scope.$watch('currentPage', function (newValue, oldValue) {\n            if (newValue === oldValue) {\n              return;\n            }\n            $scope.filter.firstResult = (newValue - 1) * $scope.filter.maxResults;\n          }, true);\n          return refresh;\n        }\n        return AbstractPagination;\n      }\n    ];\n  }\n  angular.module('pl.itcrowd.services').provider('paginationSupport', paginationSupport);\n}());"]}